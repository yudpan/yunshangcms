var form=layui.form,layer=void 0===parent.layer?layui.layer:top.layer,$=layui.jquery,table=layui.table;function error(t,e){layer.msg(t,{icon:2,time:2e3},"function"==typeof e?e:null)}function success(t,e){layer.msg(t,{icon:1,time:1e3},"function"==typeof e?e:null)}table.set({response:{statusName:"code",statusCode:0,msgName:"msg",countName:"total",dataName:"list"},limit:20,method:"post",loading:!1,limits:[10,20,30],height:"full-60",page:!0}),form.verify({username:function(t,e){return t.length<4||12<t.length?"用户名必须4到12位字符":new RegExp("^[a-zA-Z0-9_一-龥\\s·]+$").test(t)?/(^\_)|(\__)|(\_+$)/.test(t)?"用户名首尾不能出现下划线'_'":void 0:"用户名不能有特殊字符"},pass:[/^[\S]{6,18}$/,"密码必须6到18位，且不能出现空格"],price:[/^[0-9]*(\.[0-9]{1,2})?$/,"金额格式不对"]}),$.ajaxSetup({global:!1,type:"POST",dataType:"json",beforeSend:function(t,e){layer.load(2)},complete:function(e,t){if(layer.closeAll("loading"),200==e.status&&""!=e.responseText)try{var a=JSON.parse(e.responseText);void 0!==a.code&&-1==a.code&&error(a.msg,function(){top.location.reload()})}catch(t){console.log(e)}},error:function(t,e){layer.alert(t.responseText,{title:e+":"+t.status})}}),$(".login-body .input-item").click(function(t){t.stopPropagation(),$(this).addClass("layui-input-focus").find(".layui-input").focus()}),$(".login-body .layui-form-item .layui-input").focus(function(){$(this).parent().addClass("layui-input-focus")}),$(".login-body .layui-form-item .layui-input").blur(function(){$(this).parent().removeClass("layui-input-focus"),""!=$(this).val()?$(this).parent().addClass("layui-input-active"):$(this).parent().removeClass("layui-input-active")});